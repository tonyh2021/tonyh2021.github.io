---
layout: post
title: "åŸºäºJekyll+GitHubPagesçš„ä¸ªäººåšå®¢æ­å»º"
description: "åšå®¢ç»ˆäºæ­èµ·æ¥äº†ï¼Œæ•´ç†å‡ ç¯‡æ–‡ç« è®°å½•ä¸‹ã€‚é¡ºä¾¿å½“åšæµ‹è¯•"
category: articles
tags: [Blog]
comments: true
---

æ˜¥èŠ‚æœŸé—´é—²å¾—æ— èŠï¼Œå¤´è„‘ä¸€çƒ­å¼€é€šäº†`GoDaddy`çš„åŸŸåæœåŠ¡ï¼Œå†·é™ä¸‹æ¥åè§‰å¾—æ—¢ç„¶å‡ºäº†é’±ï¼Œé‚£å°±åšæŒä¸‹å»å§ã€‚ğŸ˜“  

### å¼€é€šåŸŸå

`GoDaddy`æœ‰å„ç§ä¼˜æƒ ç ï¼Œæ”¯æŒæ”¯ä»˜å®ï¼Œæ–°æ‰‹æœ€ä½³é€‰æ‹©ã€‚  
[ä¼˜æƒ ç åŠç›¸å…³æ­¥éª¤é“¾æ¥](http://www.goyouhuima.com/)

### åˆ›å»ºGitHub Page

[`github-page`](https://pages.github.com/)åˆ†ä¸ºé¡¹ç›®ä¸»é¡µå’Œä¸ªäººä¸»é¡µï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯ä¸ªäººä¸»é¡µã€‚æ¯ä¸ªå¸å·åªèƒ½æœ‰ä¸€ä¸ªä»“åº“æ¥å­˜æ”¾ä¸ªäººä¸»é¡µï¼Œè€Œä¸”ä»“åº“çš„åå­—å¿…é¡»æ˜¯`username/username.github.io`ï¼Œè¿™æ˜¯ç‰¹æ®Šçš„å‘½åçº¦å®šã€‚ä½ å¯ä»¥é€šè¿‡`http://username.github.io`æ¥è®¿é—®ä½ çš„ä¸ªäººä¸»é¡µã€‚  
é€šè¿‡å‘å¯¼å¾ˆå®¹æ˜“åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œå¹¶æµ‹è¯•æˆåŠŸã€‚ä¸è¿‡ï¼ŒåŒæ ·çš„ï¼Œæ²¡æœ‰åšå®¢çš„ç»“æ„ã€‚éœ€è¦æ³¨æ„çš„ä¸ªäººä¸»é¡µçš„ç½‘ç«™å†…å®¹æ˜¯åœ¨masteråˆ†æ”¯ä¸‹çš„ã€‚  

### åŸŸåç»‘å®š

ç”¨[`DNSpod`](https://www.dnspod.cn/)ï¼Œæ³¨å†Œï¼Œæ·»åŠ åŸŸåã€‚å‚è€ƒï¼š[å¦‚ä½•æ­å»ºä¸€ä¸ªç‹¬ç«‹åšå®¢](http://cnfeat.com/blog/2014/05/10/how-to-build-a-blog/)

### ç¯å¢ƒæ­å»º

å¾ˆå¤šäººéƒ½æ¨èä½¿ç”¨`Jekyll`ï¼Œä¹Ÿæœ‰å¾ˆå¤šç°æˆçš„æ¨¡æ¿ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚

#### å®‰è£…`Jekyll`

```bash
$ sudo gem install jekyll
#å®‰è£…å®Œäº†ä¹‹åï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·
$ jekyll -v
jekyll 3.1.1
```

#### è¿è¡ŒJekyll

è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ï¼š

```bash
$jekyll serve --safe --watch
```  

æ­¤æ—¶`Jekyll`ä¼šåœ¨`localhost`çš„`4000`ç«¯å£ç›‘å¬`http`è¯·æ±‚ï¼Œç”¨æµè§ˆå™¨è®¿é—®`http://localhost:4000/index.html`ï¼Œä¹‹å‰çš„é¡µé¢å‡ºç°äº†ï¼

### ä½¿ç”¨jekyll

å‚è€ƒé“¾æ¥ï¼š[ä¸€æ­¥æ­¥åœ¨GitHubä¸Šåˆ›å»ºåšå®¢ä¸»é¡µ(5)](http://www.pchou.info/web-build/2013/01/07/build-github-blog-page-05.html)  
ä»¥åŠï¼š[æ‰“é€ ä½ çš„ GitHub Pages ä¸“å±åšå®¢](http://azeril.me/blog/Build-Your-First-GitHub-Pages-Blog.html)  
ä¸ªäººç½‘ç«™çš„è®¾è®¡è¿˜æ˜¯å‰ç«¯äººå‘˜æ›´ä¸“ä¸šï¼Œè¿˜æ˜¯æ‹¿æ¥ä¸»ä¹‰æ¯”è¾ƒå¿«é€Ÿå•¦ã€‚  
ç½‘ç«™çš„[æ¨¡æ¿åœ°å€åœ¨æ­¤](https://github.com/poole/lanyon)ã€‚

### å…³äºç¯å¢ƒæ­å»ºçš„é—®é¢˜

åæ¥æƒ³æŒ‰ç…§[å®˜æ–¹çš„åšæ³•](https://help.github.com/articles/using-jekyll-with-pages/)æ¥æ­å»ºjekyllçš„ç¯å¢ƒï¼Œç ”ç©¶äº†ä¸€é˜µæ‰OKã€‚

```bash
#å®‰è£…Bundler
$sudo gem install bundler

#å°†Gemfileæ–‡ä»¶ä¿®æ”¹ä¸º
source 'https://ruby.taobao.org'

group :jekyll_plugins do
    # gem "jekyll-paginate"
    # gem "jekyll-feed"
    gem 'github-pages'
    gem 'pygments.rb'
end

#åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ
$bundle install

#installå®Œæˆåè¿è¡Œjekyll
$bundle exec jekyll serve
```  

### æ·»åŠ ä»£ç é«˜äº®

å®‰è£…[`pygments`](http://pygments.org/)

```bash
pip install pygments
```

`Pygments`æä¾›äº†åå¤šç§é«˜äº®æ ·å¼çš„æ–¹æ¡ˆï¼Œæ‰€æœ‰å¯ç”¨çš„æ–¹æ¡ˆå¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼æŸ¥çœ‹ï¼š

```bash
from pygments.styles import STYLE_MAP
STYLE_MAP.keys()
['manni', 'igor', 'lovelace', 'xcode', 'vim', 'autumn', 'vs', 'rrt', 'native', 'perldoc', 'borland', 'tango', 'emacs', 'friendly', 'monokai', 'paraiso-dark', 'colorful', 'murphy', 'bw', 'pastie', 'algol_nu', 'paraiso-light', 'trac', 'default', 'algol', 'fruity']
```

åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œå…¶ä¸­defaultå¯æ¢ä¸º`xcode`æˆ–`monokai`ã€‚

```bash
pygmentize -f html -a .highlight -S default > css/pygments.css
```

å¦‚æœä¸èƒ½æ‰§è¡Œï¼Œåˆ™æŸ¥çœ‹ä¸‹`echo $PATH`ä¸­æœ‰æ²¡æœ‰pythonçš„ç›®å½•`/Users/username/Library/Python/2.7/bin`ã€‚

å°†`_config.yml`ä¸­ä¿®æ”¹ï¼š

```ruby
markdown: redcarpet
highlighter: pygments
```

### ç¤¾ä¼šåŒ–è¯„è®º

æœ€åè¿˜æ˜¯ç”¨äº†[`Disqus`](https://disqus.com/)ï¼Œç°åœ¨å·²ç»æ”¯æŒä¸­æ–‡ã€‚

### å¼€å¯åˆ†é¡µåŠŸèƒ½

é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨jekyllä¸­å¼€å¯åˆ†é¡µåŠŸèƒ½ï¼Œåœ¨jekyllçš„_config.ymlä¸­åŠ å…¥åˆ†é¡µé…ç½®ï¼š

```ruby
paginate: 5
paginate_path: "page:num"
```

#### ä½¿ç”¨åˆ†é¡µ

åªæ˜¯å¼€å¯äº†åˆ†é¡µè¿˜æ²¡æœ‰ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®ä½¿ç”¨åˆ°é¦–é¡µä¹‹ä¸­ï¼Œåœ¨é¦–é¡µ(`/index.html`)ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š

{% raw %}
```html
{% for post in paginator.posts %}
    <a href="{{ post.url }}">{{ post.title }}</a>
{% endfor %}
```
{% endraw %}

è¿™æ ·ï¼Œ`jekyll`å°±ä¼šæ ¹æ®`paginator`æ¥è¿›è¡Œåˆ†é¡µäº†ï¼Œè¢«åˆ†å‡ºæ¥å¤šå°‘é¡µï¼Œå°±ä¼šæœ‰å¤šå°‘ä¸ªé¡µé¢ç”Ÿæˆã€‚æ’1-5çš„æ–‡ç« å°±åœ¨`/index.html`ä¸­äº†ï¼Œè€Œæ’6-10çš„æ–‡ç« åˆ™åœ¨`/page2/index.html`ä¸­ï¼Œä¾æ¬¡ç±»æ¨

#### æ¢é¡µ

åªæ˜¯åˆ†é¡µè¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨æ¯ä¸ªé¡µé¢ä¸Šåšä¸€ä¸ªè·³è½¬åˆ°å…¶ä»–é¡µé¢çš„å¯¼èˆªï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°`paginator`çš„ä¸€äº›å…¶ä»–å±æ€§

é¦–å…ˆæ£€æµ‹æ€»çš„é¡µæ•°ï¼Œå¦‚æœåªæœ‰ä¸€é¡µï¼Œè‡ªç„¶å°±ä¸éœ€è¦åˆ†é¡µäº†ã€‚é€šè¿‡paginatorçš„total_pageså±æ€§èƒ½åˆ¤æ–­æ€»é¡µæ•°ï¼š

{% raw %}
```html
{% if paginator.total_pages > 1 %}
<!-- åˆ†é¡µä»£ç  -->
{% endif %}
```
{% endraw %}

æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè·³è½¬åˆ°ä¸Šä¸€é¡µçš„æŒ‰é’®ï¼Œè¿™ä¸ªæŒ‰é’®åœ¨ç¬¬ä¸€é¡µä¸éœ€è¦æ˜¾ç¤ºï¼Œé€šè¿‡`paginator`çš„`previous_page`å±æ€§æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œä½¿ç”¨`paginator`çš„`previous_page_path`æ¥è¾“å‡ºä¸Šä¸€é¡µçš„è·¯å¾„ï¼Œæ³¨æ„åœ¨å‰é¢æ·»åŠ `baseurl`ï¼Œå¹¶è¿›è¡Œä¸€äº›å¿…è¦çš„å­—ç¬¦æ›¿æ¢ï¼š

{% raw %}
```html
{% if paginator.previous_page %}
    <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}"ä¸Šä¸€é¡µ</a>
{% endif %}
```
{% endraw %}

æ¥ç€æ˜¯ç”Ÿæˆæ‰€æœ‰é¡µé¢çš„æŒ‰é’®ï¼Œå¹¶ä½¿å½“å‰é¡µæŒ‰é’®æ— æ•ˆåŒ–ï¼Œéå†æ‰€æœ‰é¡µé¢ï¼Œä½¿ç”¨`paginator`çš„`page`å±æ€§æ¥ç¡®å®šå½“å‰é¡µï¼Œå¦‚æœæ˜¯å½“å‰é¡µï¼Œåˆ™æŒ‰é’®æ— æ•ˆï¼Œå¦åˆ™ä½¿ç”¨{% raw %}`{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}`{% endraw %}æ¥å°†`:num`æ›¿æ¢æˆå½“å‰é¡µé¢çš„æ•°å­—ç”Ÿæˆé¡µé¢è·¯å¾„ï¼š

{% raw %}
```html
{% for page in (1..paginator.total_pages) %}
	{% if page == paginator.page %}
		<span class="active">{{ page }}</span>
    {% elsif page == 1 %}
		<a href="{{ '/index.html' | prepend: site.baseurl | replace: '//', '/' }}">{{ page }}</a>
    {% else %}
		<a href="{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}">{{ page }}</a>
	{% endif %}
{% endfor %}
```
{% endraw %}

æœ€åç”Ÿæˆä¸€ä¸ªä¸‹ä¸€é¡µçš„æŒ‰é’®ï¼Œåœ¨æœ€åä¸€é¡µä¸æ˜¾ç¤ºï¼Œå’Œä¸Šä¸€é¡µæŒ‰é’®ç±»ä¼¼ï¼Œé€šè¿‡`paginator`çš„`next_page_path`æ¥ç¡®å®šæ˜¯å¦è¿˜æœ‰ä¸‹ä¸€é¡µï¼š

{% raw %}
```html
{% if paginator.next_page %}
    <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">ä¸‹ä¸€é¡µ</a>
{% endif %}
```
{% endraw %}
